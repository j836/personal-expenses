<html>
    <head>
        <title>
            Personal Expense
        </title>
        <link rel="stylesheet" href="main.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <style>
            body {
                display:flex;
                justify-content: center;
                align-items:center;
                height:100vh;
                flex-direction: column;
            }

        </style>
        
    </head>
    <body>
        <h1 id="displayExpense">0</h1>
        <input id="inputAmount" type="text"> 
        <input id="inputdescription" type="text">
        <button id="btnAddExpense">+</button>
        <div id="expenseTable"></div>
        
        <script>
            let totalExpense = 0;
            //Get the button element. 
            const element = document.getElementById("btnAddExpense");
            // console.log(element)
            const dispexpense = document.querySelector("#displayExpense");
            // console.log(dispexpense)
            dispexpense.textContent = totalExpense;
    
            //getting refernce to the inputdescription 
            const inputdesc = document.querySelector("#inputdescription");
            // console.log(inputdesc);

            const tableExpenseEl = document.querySelector("#expenseTable");
            console.log(tableExpenseEl)


            const allExpenses = [];

            //on ButtonClick add inputAMount to totalExepnse
            function addExpenseToTotal() {
                //read value from inputAmount
                
                let textAmount = document.getElementById("inputAmount").value;
                // console.log({textAmount})
    
                //Convert it to a number
                textAmount =parseInt(textAmount,10);
                // console.log({textAmount})

                const textDescription = inputdesc.value;
                console.log({textDescription , textAmount});
    
                totalExpense = totalExpense + textAmount;
                console.log(totalExpense);

                // const displayExpense = document.getElementById("displayExpense").innerHTML=totalExpense;
                //We can also achieve the same by :
                dispexpense.textContent = totalExpense;
                //textContent sets the content of the selected

                const expenseItem = {
                    desc:textDescription,
                    amount:textAmount
                }
                allExpenses.push(expenseItem);

                //set the heading element to totslExpense

                //Normal way
                // const someText = "The expense for this month is " + totalExpense;
                
                //Pro ..This is known as Templating 
                const someText = `The expense for this month is: ${totalExpense}`
                dispexpense.textContent = someText;

                //Show the table here

                const data1 = allExpenses[0];
                const data2 = allExpenses[1];

                const data1Text = `${data1.amount} :: ${data1.desc}`;
                const data2Text = `${data2.amount} :: ${data2.desc}`;
                const tableText = `
                <div>${data1Text}</div>  
                <div>${data2Text}</div>`

                // tableExpenseEl.textContent = tableText;
                //textContent prints the div's as well from tableText..Thus we use InnerHTML

                tableExpenseEl.innerHTML = tableText;
                // console.table(allExpenses);
                //creates a table in the console with the allExpeneses object in the console.
    
            }
            
    
    
            //Listen to click event and pass the function to be called..
            //This is via a callback..Like whenver a button(element in this case) is clicked Call addExpenseToTotal back(again)!
            element.addEventListener("click",addExpenseToTotal,false);
       
           
            
            
           
        </script>


    </body>
</html>