<html>
    <head>
        <title>
            Personal Expense
        </title>
        <link rel="stylesheet" href="main.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <style>
            body {
                display:flex;
                justify-content: center;
                align-items:center;
                height:100vh;
                flex-direction: column;
            }

        </style>
        
    </head>
    <body>
        <h1 id="displayExpense">0</h1>
        <input id="inputAmount" type="text"> 
        <input id="inputdescription" type="text">
        <button id="btnAddExpense">+</button>
        <div id="expenseTable"></div>
        
        <script>
            let totalExpense = 0;
            //Get the button element. 
            const element = document.getElementById("btnAddExpense");

            const dispexpense = document.querySelector("#displayExpense");

            dispexpense.textContent = totalExpense;
    
            //getting refernce to the inputdescription 
            const inputdesc = document.querySelector("#inputdescription");


            const tableExpenseEl = document.querySelector("#expenseTable");



            const allExpenses = [];

            //on ButtonClick add inputAMount to totalExepnse
            function addExpenseToTotal() {
                //read value from inputAmount
                
                let textAmount = document.getElementById("inputAmount").value;
                
    
                //Convert it to a number
                textAmount =parseInt(textAmount,10);
                

                const textDescription = inputdesc.value;
                console.log({textDescription , textAmount});
    
                totalExpense = totalExpense + textAmount;
                console.log(totalExpense);

                // const displayExpense = document.getElementById("displayExpense").innerHTML=totalExpense;
                //We can also achieve the same by :
                dispexpense.textContent = totalExpense;
                //textContent sets the content of the selected

                const expenseItem = {
                    desc:textDescription,
                    amount:textAmount
                }
                allExpenses.push(expenseItem);

                //set the heading element to totalExpense

                //Normal way
                // const someText = "The expense for this month is " + totalExpense;
                
                //Pro ..This is known as Templating 
                const someText = `The expense for this month is: ${totalExpense}`
                dispexpense.textContent = someText;

                //Show the table here

                
                const dataText = allExpenses.map((item) => {
                    return `<div>${item.amount} :: ${item.desc}</div>`
                }).join(" ");
                console.log(dataText)
                tableExpenseEl.innerHTML = dataText;
                //only map returns array..in this case aray of strings but with join it returns a ne single  string ..
                //If we perform join on array of strings it returns a one single string
                //If no argument is passed it by defaukt takes comma and joins it by comma else takes the passed argument and joins the string by argument passed


                // console.table(allExpenses);
                //creates a table in the console with the allExpeneses object in the console.
    
            }
            
    
    
            //Listen to click event and pass the function to be called..
            //This is via a callback..Like whenver a button(element in this case) is clicked Call addExpenseToTotal back(again)!
            element.addEventListener("click",addExpenseToTotal,false);
       
           
            
            
           
        </script>


    </body>
</html>